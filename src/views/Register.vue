<template>
  <div class="register-container">
    <!-- Logo positioned outside the card -->
    <div class="logo-header">
      <img :src="petstoreLogo" alt="PetStore Logo" class="petstore-logo" />
    </div>

    <div class="card-wrapper">
      <div class="theme-banner">
        <div class="slogan-content">
          <img :src="sloganImage" alt="Where Pets Are Family" class="slogan-img" />

          <div class="visual-elements">
            <img :src="birdhouseImage" alt="Birdhouse with bird" class="birdhouse-img" />
            <img :src="pawsImage" alt="White paw prints" class="paws-img" />
            <img :src="petsImage" alt="Group of pets" class="pets-img" />
          </div>
        </div>
      </div>

      <div class="register-form-area">
        <router-link to="/" class="close-icon" aria-label="Close Registration">
          &times;
        </router-link>

        <div class="form-content">
          <h2>Register</h2>

          <form @submit.prevent="handleRegistration">
            <div class="input-group">
              <label for="email">Email</label>
              <div class="input-wrapper">
                <span class="icon email-icon">‚úâ</span>
                <input
                  id="email"
                  v-model="email"
                  type="email"
                  placeholder="superbarkingmeow@gmail.com"
                  required
                />
              </div>
            </div>

            <div class="input-group">
              <label for="password">Password</label>
              <div class="input-wrapper">
                <span class="icon view-icon" @click="togglePasswordVisibility">
                  üëÅ
                </span>
                <input
                  id="password"
                  v-model="password"
                  :type="passwordVisible ? 'text' : 'password'"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                />
              </div>
            </div>

            <div class="input-group">
              <label for="confirmPassword">Confirmed Password</label>
              <div class="input-wrapper">
                <span class="icon view-icon" @click="toggleConfirmPasswordVisibility">
                  üëÅ
                </span>
                <input
                  id="confirmPassword"
                  v-model="confirmPassword"
                  :type="confirmPasswordVisible ? 'text' : 'password'"
                  placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                  required
                />
              </div>
              <p v-if="passwordsMismatch" class="error-message">
                  Passwords do not match!
              </p>
            </div>

            <button type="submit" class="register-button">
              Register
            </button>
          </form>

          <div class="separator">
            <hr />
            <span>Or Continue With</span>
            <hr />
          </div>

          <div class="social-login">
¬† <button type="button" class="social-button google">
¬† ¬† ¬† ¬† <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="50" height="50" viewBox="0 0 48 48">
¬† ¬† ¬† <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path>
¬† ¬† ¬† <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path>
¬† ¬† ¬† <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path>
¬† ¬† ¬† <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
¬† ¬† </svg>
¬† </button>

¬† <button type="button" class="social-button facebook">
¬† ¬† <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 40 40" width="40" height="40">
      <linearGradient id="a" x1="-277.375" x2="-277.375" y1="406.6018" y2="407.5726" gradientTransform="matrix(40 0 0 -39.7778 11115.001 16212.334)" gradientUnits="userSpaceOnUse">
        <stop offset="0" stop-color="#0062e0"/>
        <stop offset="1" stop-color="#19afff"/>
      </linearGradient>
      <path fill="url(#a)" d="M16.7 39.8C7.2 38.1 0 29.9 0 20 0 9 9 0 20 0s20 9 20 20c0 9.9-7.2 18.1-16.7 19.8l-1.1-.9h-4.4l-1.1.9z"/>
      <path fill="#fff" d="m27.8 25.6.9-5.6h-5.3v-3.9c0-1.6.6-2.8 3-2.8H29V8.2c-1.4-.2-3-.4-4.4-.4-4.6 0-7.8 2.8-7.8 7.8V20h-5v5.6h5v14.1c1.1.2 2.2.3 3.3.3 1.1 0 2.2-.1 3.3-.3V25.6h4.4z"/>
    </svg>
¬† </button>
¬†
¬† <button type="button" class="social-button apple">
¬† ¬† <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" viewBox="0 0 24 24">
      <path d="M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.09997 22C7.78997 22.05 6.79997 20.68 5.95997 19.47C4.24997 17 2.93997 12.45 4.69997 9.39C5.56997 7.87 7.12997 6.91 8.81997 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5ZM13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"/>
    </svg>
¬† </button>
</div>

          <div class="login-link">
            Already have an account?
            <router-link to="/login" class="link">Login here</router-link>
          </div>

        </div>
      </div>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, ref, computed } from 'vue';
import { useRouter } from 'vue-router';


import petstoreLogo from '../assets/photos/Logo_PetStore.png';
import sloganImage from '../assets/photos/texts.png';
// --------------------------------------------------------------------------------
import birdhouseImage from '../assets/photos/birdhouse.png';
import pawsImage from '../assets/photos/paws.png';
import petsImage from '../assets/photos/pets.png';

export default defineComponent({
  name: 'TheRegister',
  setup() {
    const email = ref('');
    const password = ref('');
    const confirmPassword = ref('');
    const passwordVisible = ref(false);
    const confirmPasswordVisible = ref(false);
    const router = useRouter();

    const passwordsMismatch = computed(() => (password.value && confirmPassword.value) && (password.value !== confirmPassword.value));

    const togglePasswordVisibility = () => {
      passwordVisible.value = !passwordVisible.value;
    };

    const toggleConfirmPasswordVisibility = () => {
      confirmPasswordVisible.value = !confirmPasswordVisible.value;
    };

    const handleRegistration = () => {
      if (passwordsMismatch.value) {
        alert('Error: Passwords must match to register.');
        return;
      }
      router.push('/login');
    };

    return {
      email,
      password,
      confirmPassword,
      passwordVisible,
      confirmPasswordVisible,
      passwordsMismatch,
      togglePasswordVisibility,
      toggleConfirmPasswordVisibility,
      handleRegistration,
      petstoreLogo,
      sloganImage,
      birdhouseImage,
      pawsImage,
      petsImage,
    };
  },
});
</script>

<style scoped>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* --- GLOBAL CONTAINER --- */
.register-container {
  display: flex;
  height: 100vh;
  width: 100vw;
  font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background-color: #ffffff;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}

/* --- LOGO HEADER --- */
.logo-header {
  position: absolute;
  top: 30px;
  left: 50px;
  z-index: 100;
}

.petstore-logo {
  max-width: 160px;
  height: auto;
  display: block;
}

/* --- CARD WRAPPER --- */
.card-wrapper {
  display: flex;
  width: 90%;
  max-width: 1100px;
  height: 80vh;
  min-height: 600px;
  max-height: 850px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  border-radius: 30px;
  overflow: hidden;
  background-color: #fff;
}

/* --- LEFT BANNER --- */
.theme-banner {
  flex: 0 0 45%;
  background-color: #ffcdd6;
  padding: 50px 40px 0 40px;
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
}

/* --- RIGHT FORM AREA --- */
.register-form-area {
  flex: 0 0 55%;
  background-color: #fff;
  padding: 80px 70px 50px 70px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;

}

/* --- SLOGAN & VISUAL ELEMENTS --- */
.slogan-content {
  flex-grow: 1;
  position: relative;
  display: flex;
  flex-direction: column;
}

.slogan-img {
  width: 30%;
  max-width: 220px;
  height: auto;
  margin-bottom: 20px;
  z-index: 10;
  position: relative;
}

.visual-elements {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.birdhouse-img {
  position: absolute;
  top: 30px;
  right: -5px;
  width: 190px;
  height: auto;
  z-index: 10;
}

.paws-img {
  position: absolute;
  top: 50%;
  right: 40px;
  width: 90px;
  height: auto;
  z-index: 10;
  transform: translateY(-50%);
}

.pets-img {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: auto;
  max-height: 55%;
  z-index: 5;
  object-fit: cover;
  object-position: bottom center;
}

/* --- CLOSE ICON --- */
.close-icon {
  position: absolute;
  top: 30px;
  right: 30px;
  font-size: 2rem;
  color: #000;
  text-decoration: none;
  cursor: pointer;
  line-height: 1;
  font-weight: 300;
  transition: color 0.2s;
}

.close-icon:hover {
  color: #666;
}

/* --- FORM CONTENT --- */
.form-content {
  width: 100%;
  max-width: 420px;
}

.register-form-area h2 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 40px;
  margin-top: 100px;
  text-align: center;
  color: #000;
  letter-spacing: -1px;
  line-height: 1.1;

}

/* --- INPUT FIELDS --- */
.input-group {
  margin-bottom: 22px;
}

.input-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 8px;
  font-size: 0.95rem;
  color: #000;
}

.input-wrapper {
  display: flex;
  align-items: center;
  border: 1.5px solid #d0d0d0;
  border-radius: 8px;
  height: 55px;
  padding: 0 18px;
  transition: all 0.3s ease;
  background-color: #fff;
}

.input-wrapper:focus-within {
  border-color: #ffb4c2;
  box-shadow: 0 0 0 4px rgba(255, 205, 214, 0.15);
}

.input-wrapper input {
  flex-grow: 1;
  border: none;
  outline: none;
  padding: 0 12px;
  font-size: 0.95rem;
  height: 100%;
  color: #333;
  font-family: inherit;
}

.input-wrapper input::placeholder {
  color: #aaa;
}

/* --- ICONS --- */
.input-wrapper .icon {
  font-size: 1.3rem;
  color: #666;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: 24px;
}

.email-icon {
  font-size: 1.2rem;
}

.view-icon {
  cursor: pointer;
  transition: color 0.2s;
  user-select: none;
}

.view-icon:hover {
  color: #333;
}

/* --- REGISTER BUTTON --- */
.register-button {
  width: 100%;
  padding: 16px;
  background-color: #ffcdd6;
  color: #000;
  border: none;
  border-radius: 10px;
  font-size: 1.05rem;
  font-weight: 600;
  margin-top: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: inherit;
}

.register-button:hover {
  background-color: #ffb8c5;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(255, 180, 194, 0.3);
}

.register-button:active {
  transform: translateY(0);
}

/* --- SEPARATOR --- */
.separator {
  display: flex;
  align-items: center;
  text-align: center;
  margin: 30px 0 25px 0;
  font-size: 0.82rem;
  color: #999;
}

.separator hr {
  flex-grow: 1;
  border: none;
  border-top: 1px solid #e5e5e5;
}

.separator span {
  padding: 0 18px;
  white-space: nowrap;
}

/* --- SOCIAL LOGIN BUTTONS --- */
.social-login {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 80px;
}

.social-button {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  background-color: white;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  padding: 0;
}

.social-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
}

.social-button span {
  font-size: 1.5rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
}

.google-icon {
  color: #4285f4;
  font-family: 'Product Sans', 'Google Sans', Arial, sans-serif;
}

.facebook-icon {
  color: #1877f2;
  font-family: 'Helvetica Neue', Arial, sans-serif;
}

.apple-icon::before {
  content: '';
  color: #000;
  font-size: 1.6rem;
}

/* --- LOGIN LINK --- */
.login-link {
  text-align: center;
  font-size: 0.9rem;
  color: #666;
}

.login-link .link {
  color: #ffb4c2;
  font-weight: 600;
  text-decoration: none;
  transition: color 0.2s;
}

.login-link .link:hover {
  color: #ff99b0;
  text-decoration: underline;
}

/* --- ERROR MESSAGE --- */
.error-message {
  color: #ff6b9d;
  font-size: 0.82rem;
  margin-top: 6px;
  text-align: left;
  padding-left: 4px;
  font-weight: 500;
}

/* --- RESPONSIVE ADJUSTMENTS --- */
@media (max-width: 1200px) {
  .card-wrapper {
    width: 95%;
    max-width: 1000px;
  }

  .register-form-area {
    padding: 40px 50px;
  }

  .logo-header {
    left: 40px;
    top: 25px;
  }

  .petstore-logo {
    max-width: 140px;
  }
}

@media (max-width: 992px) {
  .card-wrapper {
    flex-direction: column;
    width: 90%;
    height: auto;
    max-height: 90vh;
    overflow-y: auto;
  }

  .theme-banner {
    flex: 0 0 350px;
    border-radius: 0;
  }

  .register-form-area {
    flex: 1;
    padding: 40px 50px;
  }

  .register-form-area h2 {
    font-size: 2.4rem;
  }
}

@media (max-width: 768px) {
  .register-form-area {
    padding: 30px 35px;
  }

  .form-content {
    max-width: 100%;
  }

  .logo-header {
    left: 30px;
    top: 20px;
  }

  .petstore-logo {
    max-width: 120px;
  }
}
</style>
